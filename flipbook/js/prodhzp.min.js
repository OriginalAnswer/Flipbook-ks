"undefined"==typeof hzflip&&(hzflip={}),null==hzflip.controls&&(hzflip.controls={}),hzflip.controls={isEditMode:!1,init:function(e){hzflip.controls.zoom.bindings(),hzflip.controls.fullscreen.bindings(),hzflip.controls.navigation.bindings(e),hzflip.controls.slider.bindings(e,"SWIPER"===e.viewer),hzflip.controls.sound.bindings(e),hzflip.controls.simpleBindings(e)},setEditMode:function(e){hzflip.controls.zoom.setEditMode(e),hzflip.controls.fullscreen.setEditMode(e),this.isEditMode=e},initViewerControls:function(e){hzflip.controls.slider.bindings(e,"SWIPER"===e.viewer)},turned:function(e){hzflip.controls.slider.turned(e),hzflip.controls.navigation.turned(e),$(".logo-backs2").parent().is("a")&&(1==e?$(".logo-backs2").css("z-index",1):$(".logo-backs2").css("z-index",0))},turning:function(e){hzflip.controls.slider.turning(e),hzflip.controls.navigation.turning(e),hzflip.controls.sound.turning(e)},resizeViewport:function(e){null!=e&&hzflip.controls.navigation.resizeViewport(e),this.responsiveToolbar()},goToPage:function(e,t){heyzine.goToPage(e,t)},setZoom:function(e,t,i){hzflip.controls.zoom.setZoom(e,t,i)},getZoomScale:function(){return hzflip.controls.zoom.getScale()},simpleBindings:function(e){$("#btnPrint").on("click",()=>{$(".printIframe").remove();let e=document.createElement("iframe");e.className="printIframe",e.style.display="none",document.body.appendChild(e),e.onload=function(){setTimeout((function(){e.focus(),e.contentWindow.print(),heyzine.stats.trackControls("print")}),1)};let t=heyzine.url.replace("https://","").replace("http://","");return t=t.substr(t.indexOf("/")),e.src=t,!1}),$(".hz-icon.down-pdf").on("click",()=>{heyzine.stats.trackControls("down")})},responsiveToolbar:function(){if(null==$("#pnlControls").offset())return;$(document).width()<790?"50px"==$("#pnlControls").prop("style").right?($("#pnlControls").prop("style").right="20px","50px"==$("#pnlZoomStep").css("right")&&$("#pnlZoomStep").css("right","20px")):"50px"==$("#pnlControls").prop("style").left&&($("#pnlControls").prop("style").left="20px","50px"==$("#pnlZoomStep").css("left")&&$("#pnlZoomStep").css("left","20px")):"20px"==$("#pnlControls").prop("style").right?($("#pnlControls").prop("style").right="50px","20px"==$("#pnlZoomStep").css("right")&&$("#pnlZoomStep").css("right","50px")):"20px"==$("#pnlControls").prop("style").left&&($("#pnlControls").prop("style").left="50px","20px"==$("#pnlZoomStep").css("left")&&$("#pnlZoomStep").css("left","50px")),$("#pnlControls").removeClass("controls-xs-snap-top"),$("#pnlControls").removeClass("controls-xs-snap-bottom"),$("#pnlControls").removeClass("controls-xs");let e=$("#canvas").offsetParent().offset().left;$("#pnlControls").offset().left+e<0||$("#pnlControls").offset().left+$("#pnlControls").width()>$(window).width()||"auto"==$("#pnlControls").prop("style").right&&$("#pnlControls").offset().left-e>$(window).width()-$("#pnlControls").offset().left-$("#pnlControls").width()||"auto"!=$("#pnlControls").prop("style").right&&$("#pnlControls").offset().left-e<$(window).width()-$("#pnlControls").offset().left-$("#pnlControls").width()?($("#pnlControls").addClass("controls-xs"),"auto"!=$("#pnlControls").prop("style").top?$("#pnlControls").addClass("controls-xs-snap-top"):0==heyzine.config.design.show_slider&&$("#pnlControls").addClass("controls-xs-snap-bottom")):$("#pnlControls").removeClass("controls-xs"),"auto"==$("#pnlControls").prop("style").top&&0!=heyzine.config.design.show_slider?($("#pnlControls").addClass("controls-bottom-bar"),$(".logo-backs2").addClass("controls-bottom-bar")):($("#pnlControls").removeClass("controls-bottom-bar"),$(".logo-backs2").removeClass("controls-bottom-bar"))}},"undefined"==typeof hzflip&&(hzflip={}),null==hzflip.controls&&(hzflip.controls={}),hzflip.controls.fullscreen={isEditMode:!1,bindings:function(){$(".fullscreen-button").on("click",(function(){return scaler.isInIframe()&&!hzflip.controls.fullscreen.isSupported()?hzflip.controls.fullscreen.toggleMessage():hzflip.controls.fullscreen.toggle(),!1})),scaler.isInIframe()||this.isSupported()||$(".fullscreen-button").hide()},isSupported:function(){var e=document,t=!0;$("#canvas").parent().is("body")||(e=$("#canvas").parent().get(0),t=!1);var i=e;return t&&(i=e.documentElement),!!i.requestFullScreen||(!!i.mozRequestFullScreen||!!i.webkitRequestFullScreen)},toggleMessage:function(){$(".fullscreen-button").hasClass("hz-icn-fullscreen-on")?($(".fullscreen-button").removeClass("hz-icn-fullscreen-on").addClass("hz-icn-fullscreen-off"),window.parent.postMessage({action:"heyzineFullscreen",value:!0,target:document.location.href},"*")):($(".fullscreen-button").removeClass("hz-icn-fullscreen-off").addClass("hz-icn-fullscreen-on"),window.parent.postMessage({action:"heyzineFullscreen",value:!1,target:document.location.href},"*"))},toggle:function(){if(!this.isEditMode){var e=document,t=!0;if($("#canvas").parent().is("body")||(e=$("#canvas").parent().get(0),t=!1),e.fullScreenElement&&null!==e.fullScreenElement||!document.mozFullScreen&&!document.webkitIsFullScreen){var i=e;t&&(i=e.documentElement),i.requestFullScreen?i.requestFullScreen():i.mozRequestFullScreen?i.mozRequestFullScreen():i.webkitRequestFullScreen&&i.webkitRequestFullScreen(Element.ALLOW_KEYBOARD_INPUT),$(".fullscreen-button").removeClass("hz-icn-fullscreen-on").addClass("hz-icn-fullscreen-off"),heyzine.stats.trackControls("fullscreen")}else document.cancelFullScreen?document.cancelFullScreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitCancelFullScreen&&document.webkitCancelFullScreen(),$(".fullscreen-button").removeClass("hz-icn-fullscreen-off").addClass("hz-icn-fullscreen-on")}},setEditMode:function(e){this.isEditMode=e}},"undefined"==typeof hzflip&&(hzflip={}),null==hzflip.controls&&(hzflip.controls={}),hzflip.controls.navigation={inited:!1,numPages:0,hashNavigation:!0,firstTurned:!1,bindings:function(e){var t=hzflip.controls.navigation;t.numPages=e.num_pages,t.hashNavigation=null==e.hashNavigation||!1!==e.hashNavigation,t.inited||(t.inited=!0,null!=heyzine.design.data.embed_mode&&1==heyzine.design.data.embed_mode||$(document).keydown((function(e){switch(e.keyCode){case 37:hzflip.controls.goToPage("previous","keyboard"),e.preventDefault();break;case 39:hzflip.controls.goToPage("next","keyboard"),e.preventDefault();break;case 27:hzflip.controls.setZoom("zoomOut"),e.preventDefault()}})),$(document).on("click",".btnNext",(function(e){hzflip.controls.goToPage("next","button")})).on("mouseenter",".btnNext",(function(){$(this).hasClass("next-button")&&$(this).addClass("next-button-hover")})).on("mouseleave",".btnNext",(function(){$(this).hasClass("next-button")&&$(this).removeClass("next-button-hover")})),$(document).on("click",".btnPrevious",(function(e){hzflip.controls.goToPage("previous","button")})).on("mouseenter",".btnPrevious",(function(){$(this).hasClass("previous-button")&&$(this).addClass("previous-button-hover")})).on("mouseleave",".btnPrevious",(function(){$(this).hasClass("previous-button")&&$(this).removeClass("previous-button-hover")})),$(document).on("click","#btnNavPrev",(function(){return hzflip.controls.goToPage("previous","button-nav"),!1})),$(document).on("click","#btnNavNext",(function(){return hzflip.controls.goToPage("next","button-nav"),!1})),$(document).on("click","#btnNavStart",(function(){const e=""==$.trim(heyzine.design.data.start_page)?1:heyzine.design.data.start_page;return hzflip.controls.goToPage(e,"button-nav"),!1})),$(document).on("click","#btnNavEnd",(function(){const e=""==$.trim(heyzine.design.data.end_page)?t.numPages:heyzine.design.data.end_page;return hzflip.controls.goToPage(e,"button-nav"),!1})),t.hashNavigation&&"undefined"!=typeof Hash&&Hash.on("^page/([0-9]*)$",{yep:function(e,t){var i=t[1];void 0!==i&&hzflip.controls.goToPage(parseInt(i),"url")},nop:function(e){hzflip.controls.goToPage(1,"url")}}))},turned:e=>{var t=hzflip.controls.navigation;t.showHide(e),t.hashNavigation&&"undefined"!=typeof Hash&&t.firstTurned?Hash.go("page/"+e).update():t.firstTurned=!0},turning:e=>{var t=hzflip.controls.navigation;null!=e&&t.showHide(e)},resizeViewport:e=>{$(".next-button").css({height:e.height,backgroundPosition:"-38px "+(e.height/2-16)+"px"}),$(".previous-button").css({height:e.height,backgroundPosition:"-4px "+(e.height/2-16)+"px"})},showHide:e=>{1==e?$(".previous-button").hide():$(".previous-button").show(),heyzine.isLastPage(e)?$(".next-button").hide():$(".next-button").show()}},"undefined"==typeof hzflip&&(hzflip={}),null==hzflip.controls&&(hzflip.controls={}),hzflip.controls.slider={numPages:0,config:null,drag:!1,positionSliderThumb:function(e,t){var i=$(e).parent().find(t).outerWidth()/2,s=$(e).width(),n=s/2,o=(e.value-1)/(e.max-e.min);(isNaN(o)||o<0)&&(o=0);var a=o*s,l=a-i-42.5*((a-n)/n);$(e).parent().find(t).css("left",l+"px")},isSinglePage:function(){return"SWIPER"==heyzine.config.viewer||2==heyzine.config.design.show_double},bindings:function(e){if($(".page-bar").length<=0||0==e.design.show_slider)return;const t=null==e.design.show_slider||1==e.design.show_slider||3==e.design.show_slider,i=2==e.design.show_slider||3==e.design.show_slider;var s=hzflip.controls.slider;this.config=e,s.numPages=e.num_pages,$(".page-bar input[type=range]").attr("min",1),$(".page-bar input[type=range]").attr("max",s.isSinglePage()?s.numPages:s.numPages%2==0?Math.floor((s.numPages-2)/2)+2:Math.floor(s.numPages/2)+1),i?($("span.page-bar-num").show(),$(".page-bar .page-bar-value").addClass("page-bar-num-enabled")):$(".page-bar .page-bar-value").removeClass("page-bar-num-enabled"),$(".page-bar input[type=range]").on("input mousedown",(function(){if(s.drag=!0,t){let e=100;!0===heyzine.config.toc?e=1:$(".page-bar-value").hide(),s.positionSliderThumb(this,"span.page-bar-value"),s.thumbnails($(this).parent().find("span.page-bar-value"),$(this).val(),e).then(()=>{s.drag&&(s.positionSliderThumb(this,"span.page-bar-value"),$(".page-bar-value").fadeIn("fast"))}).catch(()=>{})}if(i){$("span.page-bar-num").show();const e=s.rangeToPage($(this).val());null==e[1]?$("span.page-bar-num").html(e[0]):$("span.page-bar-num").html(e[0]+" - "+e[1]),s.positionSliderThumb(this,"span.page-bar-num")}})),$(".page-bar input[type=range]").on("mouseup touchend",(function(){s.drag=!1,setTimeout(()=>{t&&$(".page-bar-value").fadeOut("fast"),i&&$("span.page-bar-num").fadeOut("fast")},500);let e=s.isSinglePage()?$(this).val():1==$(this).val()?1:2*$(this).val()-2;hzflip.controls.goToPage(e,"slider")}))},turned:function(e){$(".page-bar").length<=0||null==this.config||0==this.config.design.show_slider||setTimeout(()=>{let t=1;t=this.isSinglePage()?e:1==e?1:Math.floor(e/2)+1,$(".page-bar input[type=range]").val(t)},200)},turning:e=>{},rangeToPage:function(e){var t,i=this.numPages;return i%2==0&&(t=(i-2)/2+2),i%2!=0&&(t=(i-1)/2+1),this.isSinglePage()||1==e?[parseInt(e),null]:e==t?i%2!=0?[2*(e-1),2*(e-1)+1]:[2*(e-1),null]:[2*(e-1),2*(e-1)+1]},thumbnails:function(e,t,i){if(!($(".page-bar").length<=0||null==this.config||0==this.config.design.show_slider))return new Promise((s,n)=>{"undefined"!=typeof timerThumbs&&clearTimeout(timerThumbs),timerThumbs=setTimeout(()=>{const i=this.rangeToPage(t);heyzine.loadPageThumbnails(i[0],i[1],e).then(()=>{s()})},i)})}},"undefined"==typeof hzflip&&(hzflip={}),null==hzflip.controls&&(hzflip.controls={}),hzflip.controls.zoom={pos:{},isEditMode:!1,initial:{},timerDelay:!1,isZoomIn:!1,isZoomProgress:!1,isZoomEnabled:!0,preventDoubleTap:!1,hammer:null,xMove:null,yMove:null,state:{inc:1.15,scale:1,xLast:0,yLast:0,xImage:0,yImage:0,pinchScale:0},bindings:function(){var e=hzflip.controls.zoom;null!=heyzine.design.data.embed_mode&&1==heyzine.design.data.embed_mode||0==heyzine.design.data.show_zoom&&0==heyzine.design.data.click_zoom?this.isZoomDisabled=!0:this.isZoomDisabled=!1,this.initial.transform=$("#magazineViewport").css("transform"),this.initial.origin=$("#magazineViewport").css("transform-origin"),this.xMove=null,this.yMove=null,this.hammer=new Hammer.Manager($("#canvas").get(0),{recognizers:[[Hammer.Pinch,{enable:!0}]]}),this.hammer.options.domEvents=!0;var t=new Hammer.Tap({event:"singletap"}),i=new Hammer.Tap({event:"doubletap",taps:2});this.hammer.add([i,t]),i.recognizeWith(t),$(window).on("mouseout",()=>{this.moveEnd()}),$("#canvas").on("mouseout",()=>{this.moveEnd()}),$("#canvas").on("touchstart",e=>{this.moveStart(e.touches[0].pageX,e.touches[0].pageY)}),$("#canvas").on("touchend",()=>{this.moveEnd()}),$("#canvas").on("touchmove",e=>{$(e.target).closest(".layer-action-render").hasClass("layer-disable-page-drag")||this.moveProgress(e.touches[0].pageX,e.touches[0].pageY)}),$("#canvas").on("mousedown",e=>{this.moveStart(e.pageX,e.pageY)}),$("#canvas").on("mouseup",()=>{this.moveEnd()}),$("#canvas").on("mousemove",e=>{$(e.target).closest(".layer-action-render").hasClass("layer-disable-page-drag")||this.moveProgress(e.pageX,e.pageY)}),this.hammer.on("pinch",(function(t){if(!e.isEditMode&&!e.isZoomDisabled){window.disableTurnEvents=!0,e.pinching=!0;let i=t.scale>0?3*(t.scale-1):3*(1-t.scale);e.zoomSet({size:e.state.pinchScale+i,animate:!1},{x:t.center.x-$("#canvas").offset().left,y:t.center.y-$("#canvas").offset().top,noRender:!0}),t.srcEvent.stopPropagation(),t.srcEvent.stopImmediatePropagation(),t.srcEvent.preventDefault()}return!1})),this.hammer.on("pinchend",(function(t){let i=t.scale>0?3*(t.scale-1):3*(1-t.scale);e.state.pinchScale+=i,e.pinching=!1,null!=e.tmrRenderPinch&&clearTimeout(e.tmrRenderPinch),e.tmrRenderPinch=setTimeout(()=>{e.pinching||e.renderPages()},600)})),$("#canvas").mousewheel((function(t,i){return e.isEditMode||e.isZoomDisabled||0==heyzine.design.data.click_zoom||e.zoomSet({dir:i,animate:!1},{x:t.pageX-$(this).offset().left,y:t.pageY-$(this).offset().top}),!(!e.isZoomDisabled&&0!=heyzine.design.data.click_zoom)})),$(".zoom-icon").on("click",(function(){e.isEditMode||e.isZoomDisabled||(e.isZoomIn?e.zoomReset():e.zoomCenter())})),this.hammer.on("singletap",(function(t){"pnlControls"!=$(t.target).attr("id")&&"pnlControls"!=$(t.target).parent().attr("id")&&"true"!=$(t.target).attr("data-disable-zoom")?e.preventDoubleTap=!1:e.preventDoubleTap=!0})),this.hammer.on("doubletap",(function(t){e.preventDoubleTap||"pnlControls"==$(t.target).attr("id")||"pnlControls"==$(t.target).parent().attr("id")||"true"==$(t.target).attr("data-disable-zoom")||0!=heyzine.design.data.click_zoom&&(e.isEditMode||e.isZoomDisabled||(e.isZoomIn?e.zoomReset():e.zoomCenter()),t.srcEvent.stopPropagation(),t.srcEvent.stopImmediatePropagation())})),$(".btnZoomMore").on("dblclick",(function(e){return e.stopPropagation(),e.preventDefault(),!1})),$(".btnZoomLess").on("dblclick",(function(e){return e.stopPropagation(),e.preventDefault(),!1})),$(".btnZoomMore").on("click",(function(t){e.zoomCenter(1)})),$(".btnZoomLess").on("click",(function(t){e.zoomCenter(-1)}))},moveStart:function(e,t){if(!this.isEditMode&&!this.isZoomDisabled&&1!=this.state.scale){var i=hzflip.controls.zoom.pos;i.dragging=!0,this.xMove=e,this.yMove=t,i.xInit=i.xNew,i.yInit=i.yNew,$(".magazine-viewport").addClass("grabbing")}},moveEnd:function(){if(this.isEditMode||this.isZoomDisabled)return!0;hzflip.controls.zoom.pos.dragging=!1,$(".magazine-viewport").removeClass("grabbing")},moveProgress:function(e,t){if(this.isEditMode||this.isZoomDisabled||1==this.state.scale)return!0;var i=hzflip.controls.zoom.pos;if(i.dragging){var s=i.xNew,n=i.yNew,o=this.state.xLast,a=this.state.yLast,l=this.xMove-e,r=this.yMove-t;this.xMove=e,this.yMove=t,i.xNew-=l/this.state.scale,i.yNew-=r/this.state.scale,this.state.xLast-=l,this.state.yLast-=r,$("#magazineViewport").css("transform","scale("+i.scale+")translate("+i.xNew+"px, "+i.yNew+"px)");let d=null,h=null,c=null,p=null;const u=heyzine.getVisiblePages();for(let e=0;e<u.length;e++)(null==d||d>$('#magazineViewport [page="'+u[e]+'"]').offset().left)&&(d=$('#magazineViewport [page="'+u[e]+'"]').offset().left),(null==h||h>$('#magazineViewport [page="'+u[e]+'"]').offset().top)&&(h=$('#magazineViewport [page="'+u[e]+'"]').offset().top),(null==p||p<$('#magazineViewport [page="'+u[e]+'"]').offset().top+$('#magazineViewport [page="'+u[e]+'"]').height()*this.state.scale)&&(p=$('#magazineViewport [page="'+u[e]+'"]').offset().top+$('#magazineViewport [page="'+u[e]+'"]').height()*this.state.scale),(null==c||c<$('#magazineViewport [page="'+u[e]+'"]').offset().left+$('#magazineViewport [page="'+u[e]+'"]').width()*this.state.scale)&&(c=$('#magazineViewport [page="'+u[e]+'"]').offset().left+$('#magazineViewport [page="'+u[e]+'"]').width()*this.state.scale);d-=$("#canvas").offset().left,c-=$("#canvas").offset().left,h-=$("#canvas").offset().top,p-=$("#canvas").offset().top,(d>0&&i.xNew>s||c<$("#canvas").width()&&i.xNew<s)&&(i.xNew=s,this.state.xLast=o,$("#magazineViewport").css("transform","scale("+i.scale+")translate("+i.xNew+"px, "+i.yNew+"px)")),(h>0&&i.yNew>n||p<$("#canvas").height()&&i.yNew<n)&&(i.yNew=n,this.state.yLast=a,$("#magazineViewport").css("transform","scale("+i.scale+")translate("+i.xNew+"px, "+i.yNew+"px)"))}},setZoom:function(e,t,i){this.isEditMode||this.isZoomDisabled||("zoomIn"==e?this.zoomCenter():"zoomOut"==e?this.zoomReset():"zoomLayer"==e&&this.zoomToLayer("#layer"+t,i))},zoomToLayer:function(e,t){this.state.pinchScale=0;const i=t.scale;if(this.isZoomIn)return;let s=$("#canvas").height()/$("#canvas").width()<$(e).height()/$(e).width()?$("#canvas").height()/$(e).height():$("#canvas").width()/$(e).width();s*=i,this.zoomSet({dir:1,increment:s,force:!0,animate:"animated",noRender:!0},{x:$(e).offset().left,y:$(e).offset().top},()=>{let t=-$(e).offset().left/s+($("#canvas").width()+$("#canvas").offset().left)/s/2-$(e).width()/2,i=-$(e).offset().top/s+($("#canvas").height()+$("#canvas").offset().top)/s/2-$(e).height()/2;var n=hzflip.controls.zoom.pos;n.scale=s,n.xNew=t,n.yNew=i,$("#magazineViewport").addClass("animated"),$("#magazineViewport").css("transform","scale("+n.scale+")translate("+n.xNew+"px, "+n.yNew+"px)"),setTimeout(()=>{$("#magazineViewport").one("transitionend",()=>{$("#magazineViewport").removeClass("animated"),this.renderPages()})})})},zoomReset:function(e){this.state.pinchScale=0,this.state.scale=1,this.state.xImage=0,this.state.yImage=0,this.state.xLast=0,this.state.yLast=0,this.pos.scale=1,$("#magazineViewport").addClass("animated"),$("#magazineViewport").css("transform",this.initial.transform),$("#magazineViewport").css("transform-origin",this.initial.origin),heyzine.setZoomViewer("zoomOut"),$("#magazineViewport").one("transitionend",(function(){$("#magazineViewport").removeClass("animated"),null!=e&&e()})),this.setZoomOutControls()},zoomCenter:function(e,t){this.state.pinchScale=0;const i=null!=e?e:1,s=null!=t?t:1.5;this.zoomSet({dir:i,increment:s,animate:"animated"},{x:$("#canvas").width()/2,y:$("#canvas").height()/2})},zoomSet:function(e,t,i){var s=t.x,n=t.y;if(this.state.xImage=this.state.xImage+(s-this.state.xLast)/this.state.scale,this.state.yImage=this.state.yImage+(n-this.state.yLast)/this.state.scale,this.state.scale>1?this.setZoomInControls():this.setZoomOutControls(),e.size)1==this.state.scale&&e.size>1&&(this.setZoomInControls(),heyzine.setZoomViewer("zoomIn")),this.state.scale=e.size,this.state.scale=this.state.scale<1?1:this.state.scale>6?6:this.state.scale;else{var o=null!=e.increment?e.increment:this.state.inc;e.dir>0?(1==this.state.scale&&(this.setZoomInControls(),heyzine.setZoomViewer("zoomIn")),this.state.scale*=o):this.state.scale/=o,this.state.scale=this.state.scale<1?1:this.state.scale>6&&!e.force?6:this.state.scale}var a=(s-this.state.xImage)/this.state.scale,l=(n-this.state.yImage)/this.state.scale;this.state.xLast=s,this.state.yLast=n;var r=hzflip.controls.zoom.pos;r.scale=this.state.scale,r.xNew=a,r.yNew=l,r.xImage=this.state.xImage,r.yImage=this.state.yImage,1==this.state.scale?(this.zoomReset(),this.state.xLast=0,this.state.yLast=0,this.state.xImage=0,this.state.yImage=0,t.noRender||this.renderPages()):(e.animate?$("#magazineViewport").addClass(e.animate):$("#magazineViewport").removeClass("animated"),$("#magazineViewport").css("transform","scale("+r.scale+")translate("+r.xNew+"px, "+r.yNew+"px)"),"SWIPER"!=heyzine.config.viewer&&$("#magazineViewport").css("transform-origin",r.xImage+"px "+r.yImage+"px"),e.animate?$("#magazineViewport").one("transitionend",()=>{t.noRender||this.renderPages(),null!=i?i():$("#magazineViewport").removeClass(e.animate)}):(t.noRender||this.renderPages(),null!=i&&i()))},setZoomInControls:function(){this.isZoomIn=!0,window.disableTurnEvents=!0,0!=heyzine.config.design.show_slider&&$(".control-bottom .page-bar").hide(),heyzine.stats.trackControls("zoom-in"),$(".zoom-icon").removeClass("zoom-icon-in").addClass("zoom-icon-out"),$(".layer-zoom").removeClass("layer-zoom-in").addClass("layer-zoom-out"),$("#pnlZoomStep").fadeIn("fast"),$(".btnPrevious").fadeOut("fast"),$(".btnNext").fadeOut("fast"),$(".magazine-viewport").addClass("grab")},setZoomOutControls:function(){this.isZoomIn=!1,window.disableTurnEvents=!1,0!=heyzine.config.design.show_slider&&$(".control-bottom .page-bar").fadeIn(),heyzine.progressBar("cancel"),$(".zoom-icon").removeClass("zoom-icon-out").addClass("zoom-icon-in"),$(".layer-zoom").removeClass("layer-zoom-out").addClass("layer-zoom-in"),$("#pnlZoomStep").fadeOut("fast"),$(".btnPrevious").fadeIn("fast"),$(".btnNext").fadeIn("fast"),$(".magazine-viewport").removeClass("grab").removeClass("grabbing")},setEditMode:function(e){this.isEditMode=e},renderPages:function(){!this.timerDelay&&(this.state.scale>=1.5||this.state.scale<=1)&&(this.timerDelay=!0,setTimeout(()=>{const e=heyzine.getVisiblePages();heyzine.progressBar("start",{num:e.length});for(let t=0;t<e.length;t++){const i=e[t],s=$("[page="+e[t]+"] .page-cont"),n=this.state.scale<=1?"normal":this.state.scale>2.5?"xlarge":"large";heyzine.loadPageView(i,s,n).then(()=>{this.timerDelay=!1,heyzine.progressBar("end")}).catch(()=>{})}},500))},getScale:function(){var e=hzflip.controls.zoom.pos;return null==e||null==e.scale||e.scale<1?1:e.scale}},"undefined"==typeof hzflip&&(hzflip={}),null==hzflip.controls&&(hzflip.controls={}),hzflip.controls.sound={isSoundEnabled:!0,isPageTurnSound:!1,config:{},bindings:function(){$("#btnSoundOff").on("click",()=>(this.isSoundEnabled=!this.isSoundEnabled,this.isSoundEnabled?($("#btnSoundOff").addClass("hz-icn-sound-on"),$("#btnSoundOff").removeClass("hz-icn-sound-off"),heyzine.stats.trackControls("sound-on")):($("#btnSoundOff").removeClass("hz-icn-sound-on"),$("#btnSoundOff").addClass("hz-icn-sound-off"),heyzine.stats.trackControls("sound-off")),heyzine.layers.soundToggle(this.isSoundEnabled),!1))},turning:function(e){if(null!=heyzine.design&&null!=heyzine.design.data&&null!=heyzine.design.data.sound_flip&&(this.isPageTurnSound=!0===heyzine.design.data.sound_flip||1==heyzine.design.data.sound_flip),this.isSoundEnabled&&this.isPageTurnSound){const t=$("#audioPageTurn").get(0),i=$("#audioPageTurn2").get(0),s=$("#audioPageTurn3").get(0);if(null==e)t.volume=.2,t.pause(),t.currentTime=0,t.play();else{const t=heyzine.getVisiblePages();e<t[0]-1||2==t.length&&e>t[1]+1||1==t.length&&e>t[0]+1?(s.volume=.4,s.pause(),s.currentTime=0,s.play()):(i.volume=.4,i.pause(),i.currentTime=0,i.play())}}}},"undefined"==typeof hzflip&&(hzflip={}),hzflip.layers={layers:[],layersDom:[],layersComp:[],config:null,isEditMode:!1,singlePage:!1,soundEnabled:null,lastPage:null,init:function(e){this.config=e,this.load(e.layers)},load:function(e,t){this.layers=e,this.singlePage=null==t?"SWIPER"===this.config.viewer||2==this.config.design.show_double:t,this.resetLayersComp(),null!=this.config.design.sound_flip&&(1==$.trim(this.config.design.sound_flip)||!0===this.config.design.sound_flip)||this.existSoundLayers()?$("#btnSoundOff").show():$("#btnSoundOff").hide()},existSoundLayers:function(){return null!=this.layers&&this.layers.findIndex(e=>"background"==e.type&&"audio"==e.media.type||"video"==e.type)>-1},setEditMode:function(e){this.isEditMode=e},setPageDisplay:function(e){this.singlePage="single"==e},turning:function(e){if(null!=this.layers)for(let e=0;e<this.layers.length;e++)this.layers[e].visible=!1},turned:function(e){null!=this.layers&&(this.showPageLayers(e),this.startTurnLayerActions(e),this.repositionEditLayers(e)),this.lastPage=e,$.fitWidth("refitAll")},repositionEditLayers:function(e){if(this.isEditMode)for(let t=0;t<this.layers.length;t++){const i=this.layers[t];if(i.visible&&!this.singlePage||i.page==e&&this.singlePage){const s=$(".page-wrapper[page="+i.page+"]").get(0),n=$("#content");if(null==$(s).offset())return void setTimeout(()=>{this.repositionEditLayers(e)},1e3);this.layers[t].css.width=$(s).width()/i.wrapper.width*i.css.width,this.layers[t].css.height=$(s).height()/i.wrapper.height*i.css.height,this.layers[t].css.left=$(s).offset().left-n.offset().left+(i.css.left-i.wrapper.left)*($(s).width()/i.wrapper.width),this.layers[t].css.top=$(s).offset().top-n.offset().top+(i.css.top-i.wrapper.top)*($(s).height()/i.wrapper.height),this.layers[t].wrapper={width:$(s).width(),height:$(s).height(),left:$(s).offset().left-$(n).offset().left,top:$(s).offset().top-$(n).offset().top}}}},showPageLayers:function(e){for(let e=0;e<this.layers.length;e++)this.layers[e].visible=!1;for(let t=0;t<this.layers.length;t++)if(this.singlePage||1==e||e==this.config.num_pages&&this.config.num_pages%2==0?e==this.layers[t].page&&(this.layers[t].visible=!0):e!=this.config.num_pages&&e!=this.config.num_pages-1||this.config.num_pages%2==0?(e%2==0&&(e==this.layers[t].page||e+1==this.layers[t].page&&e+1!=this.config.num_pages)||e%2!=0&&(e==this.layers[t].page||e-1==this.layers[t].page&&e-1!=1))&&(this.layers[t].visible=!0):e!=this.layers[t].page&&e+1!=this.layers[t].page||(this.layers[t].visible=!0),this.layersDom[t]){this.layers[t].visible&&this.layers[t].action&&1==this.layers[t].action.highlight?this.layersDom[t].addClass("layer-action-highlight"):this.layersDom[t].removeClass("layer-action-highlight");const i=this.layers[t];if(i&&"video"==i.type){if("youtube"==i.media.type){if("1"==i.media.options.autoplay){const s=$(this.layersDom[t]).find("iframe"),n=s.attr("src")+"&cache="+(new Date).getTime();i.visible&&!this.singlePage||i.page==e&&this.singlePage?s.attr("src",n.replace("&autoplay=0","&autoplay=1")):s.attr("src",n.replace("&autoplay=1","&autoplay=0"))}}else if(null!=this.layersDom[t]){const s=$(this.layersDom[t]).find("video").get(0);i.visible&&!this.singlePage||i.page==e&&this.singlePage?"1"==i.media.options.autoplay&&(s.pause(),s.currentTime=0,s.load(),s.play()):s.pause()}}else if(i&&"audio"==i.type){let s=this.layersComp[t];null!=s&&(i.visible&&!this.singlePage||i.page==e&&this.singlePage?"1"==i.media.options.autoplay&&(s.pause(),s.play()):1!=i.media.options.keep&&s.pause())}}},startTurnLayerActions:function(e){if(!this.isEditMode&&null!=this.layers)for(let t=0;t<this.layers.length;t++){let i=this.layers[t];"background"==i.type&&"audio"==i.media.type&&this.startTurnAudio(e,i,t)}},startTurnAudio:function(e,t,i){let s=i;this.layersComp[s]||(this.layersComp[s]=new Audio(t.media.url),this.layersComp[s].compType="backAudio",null!=t.media.options&&t.media.options.volume&&(this.layersComp[s].volume=t.media.options.volume/100),this.layersComp[s].addEventListener("play",e=>{t.media.played=!0}),null!=t.media.options&&t.media.options.loop&&this.layersComp[s].addEventListener("ended",e=>{null!=this.lastPage&&this.lastPage>=this.layers[s].page&&this.lastPage<=this.layers[s].page_end&&(this.layersComp[s].currentTime=0,this.layersComp[s].play())}));let n=e>=t.page&&e<=t.page_end,o=e<t.page||e>t.page_end,a=null!=this.lastPage&&this.lastPage>=t.page&&this.lastPage<=t.page_end;if((null==this.lastPage||this.lastPage<t.page||this.lastPage>t.page_end)&&n){if(null!=t.media.options&&t.media.options.once&&t.media.played)return;!1===this.soundEnabled&&(this.layersComp[s].muted=!this.soundEnabled),this.layersComp[s].currentTime=0,this.layersComp[s].play()}else a&&n?t.media.played||this.layersComp[s].play():o&&a&&(null!=t.media.options&&null!=t.media.options.keep&&!1!==t.media.options.keep||this.layersComp[s].pause())},resetLayersComp:function(){for(let e=0;e<this.layersComp.length;e++)this.layersComp[e]&&("audio"==this.layersComp[e].compType?this.layersComp[e].unload():"backAudio"==this.layersComp[e].compType&&this.layersComp[e].pause());this.layersComp.length=0},destroyViewportLayers:function(e){return new Promise((e,t)=>{e("")})},loadViewportLayers:function(e){return new Promise((e,t)=>{e("")})},loadPageLayers:function(e,t,i){if($(t).find(".layer-action-render").remove(),this.isEditMode||null==this.layers)return new Promise((e,t)=>{e("")});for(let i=0;i<this.layers.length;i++)if(e==this.layers[i].page){const e=$('<div class="layer-action-render" id="layer'+this.layers[i].id+'" style="position: absolute;" data-disable-events="start"></div>');if(e.appendTo(t).css({left:(this.layers[i].css.left-this.layers[i].wrapper.left+1)/this.layers[i].wrapper.width*100+"%",top:(this.layers[i].css.top-this.layers[i].wrapper.top+1)/this.layers[i].wrapper.height*100+"%",width:this.layers[i].css.width/this.layers[i].wrapper.width*100+"%",height:this.layers[i].css.height/this.layers[i].wrapper.height*100+"%"}),this.layersDom[i]=e,"picture"==this.layers[i].type)e.addClass("layer-action-pic"),e.append('<img src="'+this.layers[i].media.url+'" draggable="false" class="layer-pic" />');else if("video"==this.layers[i].type){e.addClass("layer-action-vid");const t=this.layers[i].media;"modal"==t.options.display||"fullscreen"==t.options.display?t.options.poster?e.append('<img src="'+t.options.poster+'" draggable="false" class="layer-pic" />'):e.addClass("layer-action-no-content"):"youtube"==t.type?e.append('<iframe class="layer-vid" allow="autoplay" allowfullscreen src="'+t.url.replace("&autoplay=1","&autoplay=0")+'"></iframe>'):e.append('<video class="layer-vid" '+(t.options&&"1"==t.options.controls?"controls ":'onclick="this.paused ? this.play() : this.pause();" ')+(t.options&&"1"==t.options.mute?"muted ":"")+'> <source src="'+t.url+'" type="video/mp4"></video>')}else if("web"==this.layers[i].type){e.addClass("layer-action-web");const t=this.layers[i].media;null!=t.url&&"null"!=t.url&&("modal"==t.options.display||"fullscreen"==t.options.display?t.options.poster?e.append('<img src="'+t.options.poster+'" draggable="false" class="layer-pic" />'):e.addClass("layer-action-no-content"):e.append('<iframe class="layer-web" allowfullscreen src="'+t.url+'"></iframe>'))}else if("audio"==this.layers[i].type){e.addClass("layer-action-audio"),e.addClass("layer-disable-page-drag");const t=this.layers[i].media;if(null!=t.url&&"null"!=t.url){let s=hzflip.player.createPlayer(e,{title:t.options.title,url:t.url,style:t.options.controls,autoplay:t.options.autoplay,color1:t.options.color1,color2:t.options.color2});s.compType="audio",this.layersComp[i]=s}}"zoom"==this.layers[i].action.type&&e.addClass("layer-zoom").addClass("layer-zoom-in"),this.loadLayerActions(e,this.layers[i],"#layer"+this.layers[i].id),1==this.layers[i].action.highlight&&setTimeout(()=>{e.addClass("layer-action-highlight")},1e3)}return heyzine.stats.trackIframes(this.layers),heyzine.stats.trackMedia(this.layers,this.layersComp,this.layersDom),$.fitWidth("refitAll"),new Promise((e,t)=>{e("")})},loadLayerActions:function(e,t,i){$("#magazineViewport").on("click",i,e=>{if("page"==t.action.type?(heyzine.goToPage(parseInt(t.action.target)),heyzine.stats.trackLayer("link-int",t)):"link"==t.action.type?""!=$.trim(t.action.target)&&(t.action.extra&&"1"==t.action.extra.new_tab?(window.open(t.action.target,"target=_BLANK"),heyzine.stats.trackLayer("link-ext",t)):heyzine.stats.trackLayer("link-ext",t,()=>{document.location.href=t.action.target})):"zoom"==t.action.type&&(heyzine.setZoom("zoomLayer",t.id,{scale:t.action.target,zoomOut:t.action.extra.zoomOut}),heyzine.stats.trackLayer("zoom-layer",{action:{target:t.id},page:t.page})),"video"!=t.type||"modal"!=t.media.options.display&&"fullscreen"!=t.media.options.display){if("web"==t.type&&("modal"==t.media.options.display||"fullscreen"==t.media.options.display)){let i="modal"==t.media.options.display?"#modalOver":"#modalFull";$(i).find("video").remove(),$(i).find("iframe").remove(),$(i).append('<iframe class="layer-web" allowfullscreen src="'+t.media.url+'"></iframe>'),this.showModal(i,e)}}else{let i="modal"==t.media.options.display?"#modalOver":"#modalFull";if($(i).find("video").remove(),$(i).find("iframe").remove(),"youtube"==t.media.type){let e=t.media.url;null==this.soundEnabled||(1==this.soundEnabled?e=e.replace("&mute=0","&mute=1"):0==this.soundEnabled&&(e=e.replace("&mute=1","&mute=0"))),$(i).append('<iframe class="layer-vid" allowfullscreen src="'+e+'"></iframe>')}else{let e;null==this.soundEnabled?e=t.media.options&&"1"==t.media.options.mute?"muted ":"":1==this.soundEnabled?e="":0==this.soundEnabled&&(e="muted"),$(i).append('<video class="layer-vid" '+(t.media.options&&"1"==t.media.options.controls?"controls ":'onclick="this.paused ? this.play() : this.pause();" ')+e+(t.media.options&&"1"==t.media.options.autoplay?"autoplay ":"")+'> <source src="'+t.media.url+'" type="video/mp4"></video>')}this.showModal(i,e)}})},render:function(e,t){},soundToggle:function(e){if(this.soundEnabled=e,null!=this.layers){for(let e=0;e<this.layers.length;e++)if(this.layersDom[e]){const t=this.layers[e];if(t&&"video"==t.type)if("youtube"==t.media.type){const t=$(this.layersDom[e]).find("iframe"),i=t.attr("src");this.soundEnabled?t.attr("src",i.replace("&mute=1","&mute=0")):t.attr("src",i.replace("&mute=0","&mute=1"))}else{$(this.layersDom[e]).find("video").get(0).muted=!this.soundEnabled}else if(t&&"audio"==t.type){const t=this.layersComp[e];null!=t&&t.mute(!this.soundEnabled)}}for(let e=0;e<this.layersComp.length;e++)this.layersComp[e]&&(null==this.soundEnabled?this.layersComp[e].muted=!1:this.layersComp[e].muted=!this.soundEnabled)}},showModal:function(e,t){if("#modalFull"==e)$(e).fadeIn("fast");else{let i=t.pageX-192;i<0&&(i=0);let s=t.pageY-216-15;s<0&&(s=0),$(e).css({left:i,top:s,width:384,height:216}),$(e).fadeIn("fast"),$(document).one("click",(function(t){0===$(t.target).closest(e).length&&$(e).fadeOut("fast")})),t.preventDefault(),t.stopPropagation()}}},"undefined"==typeof hzflip&&(hzflip={}),hzflip.player={createPlayer:function(e,t){let i=this.getTemplateDefault(e,t),s=$(i).appendTo(e),n=s.find(".track > span"),o=s.find(".timer > span"),a=s.find(".duration > span"),l=s.find(".pauseBtn"),r=s.find(".playBtn"),d=s.find(".volumeOn"),h=s.find(".volumeOff"),c=s.find(".loading"),p=s.find(".progress"),u=s.find(".seeker");this.setStyle(e,t);var g=function(e){this.song=e,void 0===this.song.howl&&(this.song.howl=null),n.innerHTML=e.title,$(n).attr("title",e.title)};g.prototype={seekerDown:!1,lastSeekPos:null,load:function(){$(c).show();let e=this,t=this.song,i=t.howl;i||(i=t.howl=new Howl({src:[t.url],html5:!0,onplay:function(){$(a).html(e.formatTime(Math.round(i.duration()))),requestAnimationFrame(e.step.bind(e)),$(r).hide(),$(l).show(),e.waveAnim("start"),$(e).trigger("player:play")},onload:function(){$(c).hide(),$(a).html(e.formatTime(Math.round(i.duration()))),$(n).html(t.title),$(n).attr("title",t.title)},onend:function(){},onpause:function(){},onstop:function(){},onseek:function(){requestAnimationFrame(e.step.bind(e))}}))},unload:function(){this.song.howl.unload()},play:function(){const e=this.song.howl;e.play(),"loaded"===e.state()?($(r).hide(),$(l).show(),this.waveAnim("start")):($(r).hide(),$(l).hide(),this.waveAnim("stop"))},pause:function(){this.song.howl.pause(),$(r).show(),$(l).hide(),this.waveAnim("stop")},volume:function(e){Howler.volume(e)},mute:function(e){this.song.howl.mute(e)},seek:function(e){const t=this.song.howl;t&&t.seek(t.duration()*e)},seekView:function(e){const t=this;if(t.song.howl){let i=t.song.howl.duration();$(o).html(f.formatTime(Math.round(e*i))),$(p).css("width",Math.round(e*$(u).width()||0)+"px")}},step:function(){const e=this,t=e.song.howl;let i=t.seek()||0;i>0&&($(o).html(e.formatTime(Math.round(i))),$(p).css("width",Math.round(i/t.duration()*$(u).width()||0)+"px")),t.playing()&&requestAnimationFrame(e.step.bind(e))},formatTime:function(e){let t=Math.floor(e/60)||0,i=e-60*t||0;return t+":"+(i<10?"0":"")+i},waveAnim:function(e){"wave"!=this.song.style?"ocean"!=this.song.style||("start"==e?$(s).removeClass("paused"):"stop"==e&&$(s).addClass("paused")):"load"==e?this.siriWave=new SiriWave({container:$(s).find(".theme-siri").get(0),style:"ios",cover:!0,autostart:!1,color:this.formatColor(this.song.color2)||"#fff"}):"start"==e?(null==this.siriWave&&this.waveAnim("load"),this.siriWave.start()):"stop"==e&&null!=this.siriWave&&this.siriWave.stop()},formatColor:function(e){if(null==e)return null;var t,i=new Array("0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f");function s(e){return isNaN(e)?"00":i[(e-e%16)/16]+i[e%16]}return"#"+s((t=(t=e).match(/^rgba\((\d+),\s*(\d+),\s*(\d+)\,\s*(\d+)\)$/))[1])+s(t[2])+s(t[3])}};let f=new g(t);return f.load(),$(document).on("click","#"+$(e).attr("id")+" .playBtn",(function(){f.play()})),$(document).on("click","#"+$(e).attr("id")+" .pauseBtn",(function(){f.pause()})),$(document).on("click","#"+$(e).attr("id")+" .volumeOn",(function(){$(this).hide(),$(h).show(),f.mute(!0)})),$(document).on("click","#"+$(e).attr("id")+" .volumeOff",(function(){$(this).hide(),$(d).show(),f.mute(!1)})),$(document).on("mousedown touchstart","#"+$(e).attr("id")+" .seeker",(function(){f.seekerDown=!0})),$(document).on("mousemove touchmove","#"+$(e).attr("id")+" .seeker",(function(e){if(0===e.originalEvent.buttons&&(f.seekerDown=!1),f.seekerDown){let t=null!=e.clientX?e.clientX:e.changedTouches.length>0?e.changedTouches[0].clientX:0;if(0==t)return;let i=Math.round((t-$(u).offset().left)/($(u).width()*heyzine.getZoomScale())*1e4)/1e4;f.seekView(i),(null==f.lastSeekPos||Math.abs(f.lastSeekPos-i)>.01)&&(f.seek(i),f.lastSeekPos=i)}})),$(document).on("mouseup touchend click","#"+$(e).attr("id")+" .seeker",(function(e){let t=null!=e.clientX?e.clientX:e.changedTouches.length>0?e.changedTouches[0].clientX:0;if(0==t)return;f.seekerDown=!1;let i=Math.round((t-$(u).offset().left)/($(u).width()*heyzine.getZoomScale())*1e4)/1e4;f.seekView(i),f.seek(i),f.lastSeekPos=i})),$(document).on("hz.endresize","#"+$(e).attr("id"),(function(){$(e).find("[data-fit-text]").each((function(e,t){$.fitWidth("refit",t)}))})),"none"==t.style&&($(document).on("click","#"+$(e).attr("id"),(function(){f.song.howl.playing()?f.pause():f.play()})),$(document).on("dblclick","#"+$(e).attr("id"),(function(){return f.song.howl.stop(),f.play(),!1}))),f},getTemplateDefault:function(e,t){let i=t.style;if("none"==i)return $(e).addClass("layer-player-none"),'<div class="layer-player paused" data-disable-zoom="true"></div>';if("btn"==i)return $(e).addClass("layer-player-btn"),'<div class="layer-player paused"><div class="controlsOuter"><div class="controlsInner"><div class="loading"></div><svg class="btn-player playBtn" fill="currentColor" xmlns="http://www.w3.org/2000/svg"  viewBox="0 0 30 30" width="30px" height="30px">    <path d="M 6 3 A 1 1 0 0 0 5 4 A 1 1 0 0 0 5 4.0039062 L 5 15 L 5 25.996094 A 1 1 0 0 0 5 26 A 1 1 0 0 0 6 27 A 1 1 0 0 0 6.5800781 26.8125 L 6.5820312 26.814453 L 26.416016 15.908203 A 1 1 0 0 0 27 15 A 1 1 0 0 0 26.388672 14.078125 L 6.5820312 3.1855469 L 6.5800781 3.1855469 A 1 1 0 0 0 6 3 z"/></svg><svg class="btn-player pauseBtn" fill="currentColor" xmlns="http://www.w3.org/2000/svg"  viewBox="0 0 30 30" width="30px" height="30px">    <path d="M 8 4 C 6.895 4 6 4.895 6 6 L 6 24 C 6 25.105 6.895 26 8 26 L 10 26 C 11.105 26 12 25.105 12 24 L 12 6 C 12 4.895 11.105 4 10 4 L 8 4 z M 20 4 C 18.895 4 18 4.895 18 6 L 18 24 C 18 25.105 18.895 26 20 26 L 22 26 C 23.105 26 24 25.105 24 24 L 24 6 C 24 4.895 23.105 4 22 4 L 20 4 z"/></svg></div></div>';let s='<div class="layer-player paused">';return s+='<div class="title">',s+='<div class="controlsAlt">',s+='<svg class="btn-player playBtn" fill="currentColor" xmlns="http://www.w3.org/2000/svg"  viewBox="0 0 30 30" width="30px" height="30px">    <path d="M 6 3 A 1 1 0 0 0 5 4 A 1 1 0 0 0 5 4.0039062 L 5 15 L 5 25.996094 A 1 1 0 0 0 5 26 A 1 1 0 0 0 6 27 A 1 1 0 0 0 6.5800781 26.8125 L 6.5820312 26.814453 L 26.416016 15.908203 A 1 1 0 0 0 27 15 A 1 1 0 0 0 26.388672 14.078125 L 6.5820312 3.1855469 L 6.5800781 3.1855469 A 1 1 0 0 0 6 3 z"/></svg>',s+='<svg class="btn-player pauseBtn" fill="currentColor" xmlns="http://www.w3.org/2000/svg"  viewBox="0 0 30 30" width="30px" height="30px">    <path d="M 8 4 C 6.895 4 6 4.895 6 6 L 6 24 C 6 25.105 6.895 26 8 26 L 10 26 C 11.105 26 12 25.105 12 24 L 12 6 C 12 4.895 11.105 4 10 4 L 8 4 z M 20 4 C 18.895 4 18 4.895 18 6 L 18 24 C 18 25.105 18.895 26 20 26 L 22 26 C 23.105 26 24 25.105 24 24 L 24 6 C 24 4.895 23.105 4 22 4 L 20 4 z"/></svg>',s+="</div>",s+='<div class="timer"><span data-fit-text>0:00</span></div>',s+='<div class="track"><span data-fit-text></span></div>',s+='<div class="duration"><span data-fit-text>0:00</span></div>',s+="</div>","ocean"==i?s+='<div class="theme-player theme-ocean"><div class="theme-back-cont"><div class="wave"></div><div class="wave"></div></div></div>':"wave"==i?s+='<div class="theme-siri"></div>':"min"==i&&($(e).addClass("layer-player-min"),s+="<div></div>"),s+='<div class="seeker"></div>',s+='<div class="controlsOuter">',s+='<div class="controlsInner">',s+='<div class="loading"></div>',s+='<svg class="btn-player playBtn" fill="currentColor" xmlns="http://www.w3.org/2000/svg"  viewBox="0 0 30 30" width="30px" height="30px">    <path d="M 6 3 A 1 1 0 0 0 5 4 A 1 1 0 0 0 5 4.0039062 L 5 15 L 5 25.996094 A 1 1 0 0 0 5 26 A 1 1 0 0 0 6 27 A 1 1 0 0 0 6.5800781 26.8125 L 6.5820312 26.814453 L 26.416016 15.908203 A 1 1 0 0 0 27 15 A 1 1 0 0 0 26.388672 14.078125 L 6.5820312 3.1855469 L 6.5800781 3.1855469 A 1 1 0 0 0 6 3 z"/></svg>',s+='<svg class="btn-player pauseBtn" fill="currentColor" xmlns="http://www.w3.org/2000/svg"  viewBox="0 0 30 30" width="30px" height="30px">    <path d="M 8 4 C 6.895 4 6 4.895 6 6 L 6 24 C 6 25.105 6.895 26 8 26 L 10 26 C 11.105 26 12 25.105 12 24 L 12 6 C 12 4.895 11.105 4 10 4 L 8 4 z M 20 4 C 18.895 4 18 4.895 18 6 L 18 24 C 18 25.105 18.895 26 20 26 L 22 26 C 23.105 26 24 25.105 24 24 L 24 6 C 24 4.895 23.105 4 22 4 L 20 4 z"/></svg>',s+="</div>",s+='<svg class="btn-player volumeBtn volumeOn" fill="currentColor" xmlns="http://www.w3.org/2000/svg"  viewBox="1 1 21 21" width="24px" height="24px">    <path d="M 10.294922 3.9882812 C 10.122922 3.9882812 9.9476875 4.0533125 9.8046875 4.1953125 L 5 9 L 3 9 C 1.895 9 1 9.895 1 11 L 1 13 C 1 14.105 1.895 15 3 15 L 5 15 L 9.8046875 19.804688 C 9.9476875 19.947688 10.122922 20.011719 10.294922 20.011719 C 10.654922 20.011719 11 19.732547 11 19.310547 L 11 4.6894531 C 11 4.2674531 10.654922 3.9882812 10.294922 3.9882812 z M 15.939453 6.0390625 A 1.0001 1.0001 0 0 0 15.242188 7.7578125 C 17.594098 10.109723 17.593888 13.891346 15.242188 16.242188 A 1.0001 1.0001 0 1 0 16.65625 17.65625 C 19.772549 14.541091 19.772339 9.4598394 16.65625 6.34375 A 1.0001 1.0001 0 0 0 15.939453 6.0390625 z M 13.111328 8.8691406 A 1.0001 1.0001 0 0 0 12.414062 10.585938 C 13.204152 11.376027 13.204152 12.623974 12.414062 13.414062 A 1.0005843 1.0005843 0 1 0 13.828125 14.830078 C 15.382035 13.276168 15.382035 10.725785 13.828125 9.171875 A 1.0001 1.0001 0 0 0 13.111328 8.8691406 z"/></svg>',s+='<svg class="btn-player volumeBtn volumeOff" style="display: none;" viewBox="2 1 21 21" fill="currentColor" xmlns="http://www.w3.org/2000/svg" width="24px" height="24px"><path d="M 11.294922 3.9882812 C 11.122922 3.9882812 10.947687 4.0533125 10.804688 4.1953125 L 6 9 L 4 9 C 2.895 9 2 9.895 2 11 L 2 13 C 2 14.105 2.895 15 4 15 L 6 15 L 10.804688 19.804688 C 10.947688 19.947688 11.122922 20.011719 11.294922 20.011719 C 11.654922 20.011719 12 19.732547 12 19.310547 L 12 4.6894531 C 12 4.2674531 11.654922 3.9882812 11.294922 3.9882812 z M 14.990234 7.9902344 A 1.0001 1.0001 0 0 0 14.292969 9.7070312 L 16.585938 12 L 14.292969 14.292969 A 1.0001 1.0001 0 1 0 15.707031 15.707031 L 18 13.414062 L 20.292969 15.707031 A 1.0001 1.0001 0 1 0 21.707031 14.292969 L 19.414062 12 L 21.707031 9.7070312 A 1.0001 1.0001 0 0 0 20.980469 7.9902344 A 1.0001 1.0001 0 0 0 20.292969 8.2929688 L 18 10.585938 L 15.707031 8.2929688 A 1.0001 1.0001 0 0 0 14.990234 7.9902344 z"/></svg>',s+="</div>",s+='<div class="progress"></div>',s+="</div>",s},setStyle:function(e,t){t.color1&&($(e).css("background-color",t.color1),$(e).find(".title").css("background-color",t.color1),$(e).find(".controlsOuter").css("background-color",t.color1)),t.color2&&($(e).find(".title").css("color",t.color2),$(e).find(".btn-player").css("color",t.color2)),$.fitWidth()}},"undefined"==typeof hzflip&&(hzflip={}),null==hzflip.layers&&(hzflip.layers={}),hzflip.layers.text={page:0,css:{left:0,right:0,top:0,bottom:0,width:"200px",height:"100px",zIndex:100},content:"text",target:"page",layer:null,render:function(e,t,i){null!=this.layer&&this.layer.remove(),this.layer=$('<div class="layer-text"></div>'),this.layer.append(this.content),this.layer.css(this.css),t.append(this.layer)},renderViewport:function(e){const t=$('<div class="layer-text"></div>');t.append(this.content),t.css(this.css),e.append(t)},destroyViewport:function(){null!=this.layer&&this.layer.remove()}},hzpdf={pdfjsLib:null,pdf:null,renderQueue:[],loadingPages:[],renderTasks:[],load:(e,t)=>(heyzine.config=t,new Promise((t,i)=>{heyzine.pdfjsLib=window["pdfjs-dist/build/pdf"],heyzine.pdfjsLib.GlobalWorkerOptions.workerSrc=PDFJS_WORKER;let s={url:e};if(heyzine.config.size>15e6){const t=2*Math.ceil(heyzine.config.size/heyzine.config.num_pages/2);s={url:e,disableStream:!0,disableAutoFetch:!0,rangeChunkSize:t}}var n=heyzine.pdfjsLib.getDocument(s);"undefined"!=typeof hzp&&(n.onProgress=function(e){0==hzp.val&&null!=e.total&&e.total>0&&(console.log("checked"),hzp.check(heyzine.config.width,heyzine.config.height,heyzine.config.num_pages,e.total,heyzine.config.id))}),n.promise.then(e=>{heyzine.pdf=e,t(this.pdf)},e=>{i(e)})})),processRenderQueue:function(e,t,i,s){this.renderQueue.length>0?(this.renderQueue.push({numPage:e,page:t,renderContext:i,resolve:s}),this.sortRenderQueue()):(this.renderQueue.push({numPage:e,page:t,renderContext:i,resolve:s}),this.processRender(e,t,i,s))},processRender:function(e,t,i,s){console.log(Math.round((new Date).getTime()/1e3)+" startrender "+e),heyzine.progressBar("progress",{inc:10,abs:40});var n=t.render(i);n.onContinue=function(e){e()},this.renderTasks.push(n),n.promise.then(()=>{this.renderQueue=this.renderQueue.filter(e=>e.resolve!=s),console.log(Math.round((new Date).getTime()/1e3)+" endrender "+e),heyzine.progressBar("progress",{inc:10,abs:50}),s(i),this.renderQueue.length>0&&(this.sortRenderQueue(),this.processRender(this.renderQueue[0].numPage,this.renderQueue[0].page,this.renderQueue[0].renderContext,this.renderQueue[0].resolve))}).catch(()=>{console.log("render canceled")})},resetRender:function(){console.log("reset render");for(let e=0;e<this.renderTasks.length;e++)this.renderTasks[e].cancel();this.renderTasks.length=0,this.renderQueue.length>0&&(this.sortRenderQueue(),this.processRender(this.renderQueue[0].numPage,this.renderQueue[0].page,this.renderQueue[0].renderContext,this.renderQueue[0].resolve))},sortRenderQueue:function(){this.renderQueue.sort((e,t)=>{const i=heyzine.getCurrentPage()-1;return e.numPage<i&&t.numPage<i||e.numPage>i&&t.numPage>i?e.numPage-t.numPage:e.numPage>=i&&t.numPage<i?-1:e.numPage<i&&t.numPage>=i?1:e.numPage-t.numPage})},turn:function(e,t,i){this.loadPage(e,t),this.loadPage(e+1,i)},loadPageView:function(e,t,i){heyzine.config;const s=$("<canvas>");return new Promise((n,o)=>{this.loadingPages.filter(t=>t.page==e&&t.size==i).length>0?o():(this.loadingPages.push({page:e,size:i}),this.loadPageUrl(e,s,i).then(s=>{if(heyzine.helpers.loading.hide(t),$(t).find(".page-img-content").length<=0){let i=new Image;i.src=s,i.style="width: 100%; height: 100%; object-fit: contain;",$(i).addClass("page-img-content"),$(i).appendTo(t),heyzine.coverPagesClass(i,e)}else $(t).find(".page-img-content").attr("src",s);this.loadingPages=this.loadingPages.filter(t=>!(t.page==e&&t.size==i)),n(t)}))})},loadPageUrl:function(e,t,i){return new Promise((s,n)=>{heyzine.progressBar("progress",{inc:10,abs:10});let o=heyzine.getDesiredCanvasSize(i),a=heyzine.getPageCache(e,i,o);null==a?heyzine.loadPage(e,t.get(0),i).then(n=>{let o=n.canvasContext.canvas.width;heyzine.progressBar("progress",{inc:20,abs:70}),$(t).get(0).toBlob((function(t){heyzine.progressBar("progress",{inc:15,abs:85});let n=URL.createObjectURL(t);heyzine.setPageCache(e,i,o,n),s(n)}))}):s(a)})},loadPage:(e,t,i)=>new Promise((s,n)=>{console.log(Math.round((new Date).getTime()/1e3)+" loadpage "+e),heyzine.pdf.getPage(e).then((function(n){console.log(Math.round((new Date).getTime()/1e3)+" loadpage end "+e),heyzine.progressBar("progress",{inc:20,abs:30});var o=heyzine.getDesiredCanvasSize(i),a=n.getViewport({scale:1}),l=o/a.width;if(scaler.isIos()&&a.width*l*a.height*l>16777215){l=Math.sqrt(16777215/(a.height/a.width))/a.width,a=n.getViewport({scale:l})}else a=n.getViewport({scale:l});var r=t.getContext("2d");t.height=Math.round(a.height),t.width=Math.round(a.width);var d={canvasContext:r,viewport:a,loadingPage:e};heyzine.processRenderQueue(e,n,d,s)})).catch(e=>{console.log(e),n(e)})}),loadImage:(e,t)=>new Promise((t,i)=>{function s(){heyzine.config.toc=!1;const s=$("<canvas>");heyzine.loadPage(e,s.get(0),253.6).then(()=>{var e=new Image;e.src=s.get(0).toDataURL(),e.style="height: 100%;",e.onload=()=>{t(e)},e.onerror=()=>{i(e)}})}if(!1===heyzine.config.toc||null==heyzine.toc)return void s();const n=new Image;n.onload=function(){const i=130/n.naturalHeight*400;n.style="width: "+i+"px; object-position:-"+i*(e-1)+"px",heyzine.config.toc=!0,t(n)},n.onerror=function(){s()},n.src=heyzine.toc.src}),loadPageThumbnails:(e,t,i)=>new Promise((s,n)=>{var o=null==t?"full":"left";heyzine.loadImage(e,o).then(e=>{null!=t?heyzine.loadImage(t,"right").then(t=>{$(i).html(""),$(e).appendTo(i),$(t).appendTo(i),s()}):($(i).html(""),$(e).appendTo(i),s())})}),getDesiredCanvasSize:e=>{let t=$(".page-wrapper").width();0==t&&(t=$(document).width()/2>300?$(document).width()/2:300);let i=t;return i<=800&&(i=3*t),void 0!==e&&(i="large"==e?3*t*window.devicePixelRatio:"xlarge"==e?6*t*window.devicePixelRatio:"normal"==e?t*window.devicePixelRatio:"small"==e?t/1.5*window.devicePixelRatio:e),i}},hzimg={pictures:[],walls:[],load:(e,t)=>(heyzine.config=t,new Promise((t,i)=>{$.getJSON(e,(function(e){heyzine.pictures=e,t("")}))})),loadPageView:(e,t,i)=>{heyzine.config;heyzine.helpers.loading.hide(t),$(t).html("");const s=$('<div class="hz-grid" id="hz-grid-'+e+'"></div>');for(let e=0;e<heyzine.pictures.length;e++)e<2?s.append('<div class="hz-grid-item" style="width: 160px;"><img src="'+heyzine.pictures[e].url+'" /></div>'):s.append('<div class="hz-grid-item" style="width: 80px;"><img src="'+heyzine.pictures[e].url+'" /></div>');s.appendTo(t);var n=new Freewall(s);return n.reset({selector:".hz-grid-item",animate:!1,draggable:!1,cellW:80,cellH:"auto",onResize:function(){n.fitZone(300,450)}}),heyzine.walls.push(n),n.fitZone(300,450),n.container.find("img").load((function(){n.fitZone(300,450)})),heyzine.coverPagesClass(t,e),new Promise((e,t)=>{e("")})},loadPageThumbnails:(e,t,i)=>{}},hzprev={pictureUrl:null,load:function(e,t){return heyzine.config=t,this.pictureUrl=e,new Promise((e,t)=>{e()})},loadPageView:function(e,t,i){return new Promise((i,s)=>{heyzine.helpers.loading.hide(t);var n=new Image;n.src=this.pictureUrl,n.style="width: 100%;",n.alt="Flipbook cover",$(n).appendTo(t),$(t).closest(".page-wrapper").css("box-shadow","0 0 20px 2px lightgray"),heyzine.coverPagesClass(n,e),i(t)})},loadPageThumbnails:(e,t,i)=>{}},"undefined"==typeof hzflip&&(hzflip={}),null==hzflip.helpers&&(hzflip.helpers={}),hzflip.helpers.loading={show:(e,t,i)=>{const s='<div class="loader loader-1-circle">   <div class="loader-1-circle1 loader-1-child"></div>      <div class="loader-1-circle2 loader-1-child"></div>      <div class="loader-1-circle3 loader-1-child"></div>      <div class="loader-1-circle4 loader-1-child"></div>      <div class="loader-1-circle5 loader-1-child"></div>      <div class="loader-1-circle6 loader-1-child"></div>      <div class="loader-1-circle7 loader-1-child"></div>      <div class="loader-1-circle8 loader-1-child"></div>      <div class="loader-1-circle9 loader-1-child"></div>      <div class="loader-1-circle10 loader-1-child"></div>     <div class="loader-1-circle11 loader-1-child"></div>     <div class="loader-1-circle12 loader-1-child"></div>   </div> ';if(null==e||null==t)return $(".page-wrapper .page").append('<div class="gradient"></div>'+s),void $(".page-wrapper img").css("opacity","0.5");if("crisp"==e&&null!=t){t.html('<div class="gradient"></div>'),t.append('<div class="loader-preview-cont"></div>');const e=t.find(".loader-preview-cont");return e.append(heyzine.thumbnail),e.append(s),void t.find(".loader-preview").addClass("loader-preview-effect-done")}if("blur"==e&&null!=t)if(null!=heyzine.toc){const e=new Image;e.src=heyzine.toc.src,e.classList.add("loader-preview"),e.classList.add("no-drag"),t.html('<div class="gradient"></div>'),t.append('<div class="loader-preview-cont"></div>');const n=t.find(".loader-preview-cont");n.append(e),n.append(s);const o=100/(heyzine.config.num_pages-1)*(i-1);t.find(".loader-preview").attr("draggable","false").css("object-position",o+"%")}else t.html('<div class="gradient">'+s+"</div>")},hide:function(e){return new Promise((t,i)=>{null==e?$("#magazineViewport").find(".loader").remove():e.find(".loader").remove(),heyzine.thumbnail&&$(heyzine.thumbnail).css("opacity",1);const s=$(e).find(".loader-preview-cont");s.length>0?(s.find(".loader-preview").addClass("loader-preview-effect-done"),setTimeout(()=>{s.remove(),t()},200)):t()})},startEffect:function(){const e=heyzine.getVisiblePagesElements();for(let t=0;t<e.length;t++)$(e[t]).find(".loader-preview").hasClass("loader-preview-effect")||($(e[t]).find(".loader-preview").addClass("loader-preview-effect"),setTimeout(()=>{$(e[t]).find(".loader-preview").css("filter","blur(1px)")},5e3))}},"undefined"==typeof hzflip&&(hzflip={}),null==hzflip.viewers&&(hzflip.viewers={}),hzflip.viewers.magazine={config:{},design:{},isZoomedIn:!1,isEditMode:!1,loadedPages:[],render:(e,t)=>{$("#magazineViewport").html(""),$("#magazineViewport").append($("#tplMagazine").html()),$("#magazineViewport").css("width","auto"),$("#magazineViewport").css("height","auto"),$("#canvas").removeClass("canvas-center"),$("#canvas").fadeIn(1e3);var i=$(".magazine"),s=hzflip.viewers.magazine;s.config=e,s.design=t,null!=t&&null!=t.data&&("book"==t.data.type?$(".magazine-viewport").addClass("magazine-book"):"album"==t.data.type&&$(".magazine-viewport").addClass("magazine-album"),"1"==t.data.rtl?$(".magazine").attr("dir","rtl"):$(".magazine").removeAttr("dir"),1==t.data.show_double?($(".magazine-viewport").removeClass("page-single"),$(".magazine-viewport").addClass("page-double")):2==s.design.data.show_double?($(".magazine-viewport").removeClass("page-double"),$(".magazine-viewport").addClass("page-single")):($(".magazine-viewport").removeClass("page-single"),$(".magazine-viewport").removeClass("page-double"))),0!=i.width()&&0!=i.height()?(i.turn({width:e.width*e.isize*2,height:e.height*e.isize,duration:1e3,gradients:e.num_pages>1,autoCenter:!0,elevation:200,pages:e.num_pages,display:2==s.design.data.show_double?"single":"double",when:{start:function(e){s.isEditMode||s.isZoomedIn?e.preventDefault():heyzine.turning()},end:function(e,t,i){heyzine.turned(t.page,"end")},turning:function(e,t,i){heyzine.turning(t),$(".page.hard").closest(".page-wrapper").addClass("hard-page-wrapper")},turned:function(t,i,n){$(this).turn("center"),$(".page.hard").closest(".page-wrapper").addClass("hard-page-wrapper"),heyzine.helpers.loading.startEffect(),heyzine.turned(i);for(let t=4;t<8;t++)i+t<=e.num_pages&&!s.isPageLoaded(i+t)&&(s.addPage(i+t,$(this)),s.loadedPages.push(i+t))},missing:function(e,t){for(var i=0;i<t.length;i++)s.addPage(t[i],$(this)),s.loadedPages.push(t[i])}}}),e.num_pages<=1&&$("#magazineViewport .shadow").remove(),$(".magazine").addClass("animated"),s.resizeViewport()):setTimeout(hzflip.viewers.magazine.render,10)},goToPage:e=>{$(".magazine").turn("is")&&(isNaN(parseInt(e))?$(".magazine").turn(e):$(".magazine").turn("page",e))},setZoom:(e,t)=>{var i=hzflip.viewers.magazine;i.isZoomedIn="zoomIn"==e},destroy:()=>{$("#magazineViewport").html("")},isPageLoaded:function(e){for(var t=0;t<this.loadedPages.length;t++)if(e==this.loadedPages[t])return!0;return!1},addPage:(e,t)=>{var i=$("<div />",{});i.addClass("page-cont");var s=hzflip.viewers.magazine;const n=s.config,o=s.design;null!=n&&null!=o&&null!=o.data&&null!=o.data.type&&("book"==o.data.type?(1==e||2==e||e==n.num_pages||n.num_pages%2==0&&e==n.num_pages-1)&&i.addClass("hard"):"album"==o.data.type&&i.addClass("hard")),t.turn("addPage",i,e)&&(1==e&&null!=n.thumbnail&&""!=$.trim(n.thumbnail)?heyzine.helpers.loading.show("crisp",i,e):heyzine.helpers.loading.show("blur",i,e),heyzine.loadPageView(e,i,"normal").then(()=>{heyzine.loadPageLayers(e,i,"normal")}).catch(()=>{}))},setEditMode:function(e){this.isEditMode=e},getCurrentPage:function(){return $(".magazine").turn("page")},getVisiblePages:function(){var e=hzflip.viewers.magazine;const t=$(".magazine").turn("page");var i=$("#canvas").width(),s=$("#canvas").height();return i<750&&i<=s&&0==e.design.data.show_double||2==e.design.data.show_double?[t]:1==t?[1]:this.isLastPage(t)?e.config.num_pages%2==0?[e.config.num_pages]:[e.config.num_pages-1,e.config.num_pages]:t%2==0?[t,t+1]:t%2!=0?[t-1,t]:void 0},getVisiblePagesElements:function(){const e=this.getVisiblePages(),t=[];for(let i=0;i<e.length;i++)t.push($('#magazineViewport [page="'+e[i]+'"]'));return t},isLastPage:e=>{var t=hzflip.viewers.magazine,i=null==e?$(".magazine").turn("page"):e,s=$("#canvas").width(),n=$("#canvas").height();return s<750&&s<=n&&0==t.design.data.show_double||2==t.design.data.show_double?t.config.num_pages==i:t.config.num_pages%2!=0&&(i==t.config.num_pages||i==t.config.num_pages-1)||t.config.num_pages%2==0&&i==t.config.num_pages},resizeViewport:()=>{var e=hzflip.viewers.magazine,t=$("#canvas").width(),i=$("#canvas").height(),s=$(".magazine").turn("options");if(t%2!=0&&(t-=1),$(".magazine").removeClass("animated"),$(".magazine-viewport").css({width:t,height:i}),null!=s){var n=s.width;0==e.design.data.show_double?t<750&&t<=i?(n=s.width/2,"double"==$(".magazine").turn("display")&&($(".magazine").turn("display","single"),heyzine.setPageDisplay("single"))):(n=s.width,"single"==$(".magazine").turn("display")&&($(".magazine").turn("display","double"),heyzine.setPageDisplay("double"))):1==e.design.data.show_double?(n=s.width,"single"==$(".magazine").turn("display")&&($(".magazine").turn("display","double"),heyzine.setPageDisplay("double"))):2==e.design.data.show_double&&(n=s.width/2,"double"==$(".magazine").turn("display")&&($(".magazine").turn("display","single"),heyzine.setPageDisplay("single")));var o=e.calculateBound({width:n,height:s.height,boundWidth:Math.min(n,t),boundHeight:Math.min(s.height,i)});o.width==$(".magazine").width()&&o.height==$(".magazine").height()||($(".magazine").turn("size",o.width,o.height),hzflip.controls.resizeViewport(o)),$(".magazine").css({top:-o.height/2,left:-o.width/2}),$(".magazine").addClass("animated"),$(document).trigger("heyzineResizeViewport",[])}},calculateBound:e=>{var t={width:e.width,height:e.height};if(t.width>e.boundWidth||t.height>e.boundHeight){var i=t.width/t.height;e.boundWidth/i>e.boundHeight&&e.boundHeight*i<=e.boundWidth?(t.width=Math.round(e.boundHeight*i),t.height=e.boundHeight):(t.width=e.boundWidth,t.height=Math.round(e.boundWidth/i))}return t}},"undefined"==typeof hzflip&&(hzflip={}),null==hzflip.viewers&&(hzflip.viewers={}),hzflip.viewers.swiper={slides:[],config:{},design:{},swiper:{},isEditMode:!1,enabledEvents:!0,render:(e,t)=>{$("#magazineViewport").html(""),$("#magazineViewport").append($("#tplSwiper").html()),$("#canvas").addClass("canvas-center"),$("#canvas").fadeIn(1e3);var i=hzflip.viewers.swiper;i.config=e,i.design=t,null!=t&&null!=t.data&&("1"==t.data.rtl?$("#magazineViewport .container").attr("dir","rtl"):$("#magazineViewport .container").removeAttr("dir")),i.slides=[];for(let t=0;t<e.num_pages;t++)i.slides.push(t);i.resizeViewport();const s="fade"==t.data.type?null:t.data.type;i.swiper=new Swiper("#magazineViewport .container",{direction:"horizontal",effect:s,speed:i.isEditMode?0:300,preventClicks:!1,preventClicksPropagation:!1,coverflowEffect:{rotate:30,slideShadows:!1},flipEffect:{rotate:30,slideShadows:!0},loop:!1,navigation:{nextEl:".btnNext",prevEl:".btnPrevious"},virtual:{slides:i.slides,addSlidesBefore:2,addSlidesAfter:2,renderExternal:function(e){const t=$("#magazineViewport").find(".swiper-wrapper");t.find(".swiper-slide").each((function(){var t=$(this).attr("data-slidei");(t<e.from||t>e.to)&&$(this).remove()}));const s=t.find(".swiper-slide").first(),n=t.find(".swiper-slide").last(),o=s.length>0?s.attr("data-slidei"):0,a=n.length>0?n.attr("data-slidei"):0;for(let s=0;s<e.slides.length;s++){const n=e.slides[s];if(t.find('[data-slidei="'+n+'"]').length<=0&&n>=a){const e=$('<div class="swiper-slide page-wrapper" data-slidei="'+n+'" page="'+(n+1)+'"><div class="swiper-zoom-container page-cont"></div></div>');e.appendTo(t),n+1==1?heyzine.helpers.loading.show("crisp",e.find(".swiper-zoom-container"),n+1):heyzine.helpers.loading.show("blur",e.find(".swiper-zoom-container"),n+1),heyzine.loadPageView(n+1,e.find(".swiper-zoom-container"),"normal").then(()=>{$(".swiper-slide").children().addClass("inactive"),$('.swiper-slide[data-slidei="'+i.slides[i.swiper.realIndex]+'"]').children().removeClass("inactive"),$(".swiper-slide").removeClass("swiper-slide-active"),$('.swiper-slide[data-slidei="'+i.slides[i.swiper.realIndex]+'"]').addClass("swiper-slide-active"),heyzine.loadPageLayers(n+1,e.find(".swiper-zoom-container"),"normal")}).catch(()=>{})}}for(let s=e.slides.length-1;s>=0;s--){const n=e.slides[s];if(t.find('[data-slidei="'+n+'"]').length<=0&&n<o){const e=$('<div class="swiper-slide page-wrapper" data-slidei="'+n+'" page="'+(n+1)+'"><div class="swiper-zoom-container page-cont"></div></div>');e.prependTo(t),n+1==1?heyzine.helpers.loading.show("crisp",e.find(".swiper-zoom-container"),n+1):heyzine.helpers.loading.show("blur",e.find(".swiper-zoom-container"),n+1),heyzine.loadPageView(n+1,e.find(".swiper-zoom-container"),"normal").then(()=>{$(".swiper-slide").children().addClass("inactive"),$('.swiper-slide[data-slidei="'+i.slides[i.swiper.realIndex]+'"]').children().removeClass("inactive"),$(".swiper-slide").removeClass("swiper-slide-active"),$('.swiper-slide[data-slidei="'+i.slides[i.swiper.realIndex]+'"]').addClass("swiper-slide-active"),heyzine.loadPageLayers(n+1,e.find(".swiper-zoom-container"),"normal")}).catch(()=>{})}}$(".swiper-slide").css("left",e.offset)}},on:{slideChange:function(){var e=i.slides[i.swiper.realIndex];$(".swiper-slide").children().addClass("inactive"),$('.swiper-slide[data-slidei="'+e+'"]').children().removeClass("inactive"),heyzine.turning(i.slides[i.swiper.realIndex]+1),"flip"==heyzine.config.design.type&&setTimeout(()=>{$('.swiper-slide[data-slidei="'+e+'"]').addClass("swiper-slide-active"),heyzine.turned(e+1),heyzine.helpers.loading.startEffect()},350)},touchStart:function(e){$(e.target).closest(".layer-action-render").hasClass("layer-disable-page-drag")&&(this.allowTouchMove=!1)},touchEnd:function(){this.allowTouchMove=!0},zoomChange:function(e,t,i){},transitionEnd:function(){if("flip"!=heyzine.config.design.type){var e=i.slides[i.swiper.realIndex];$('.swiper-slide[data-slidei="'+e+'"]').addClass("swiper-slide-active"),heyzine.turned(e+1),heyzine.helpers.loading.startEffect()}}}}),$("#canvas").on("mousedown",".swiper-zoom-container > img",(function(e){return e.preventDefault(),!0}))},goToPage:(e,t)=>{var i=hzflip.viewers.swiper;"string"!=typeof e||"next"!=e||"keyboard"!=t&&"button-nav"!=t?"string"!=typeof e||"previous"!=e||"keyboard"!=t&&"button-nav"!=t?isNaN(parseInt(e))||(i.isEditMode?i.swiper.slideTo(parseInt(e)-1,0):i.swiper.slideTo(parseInt(e)-1)):i.isEditMode?i.swiper.slidePrev(0):i.swiper.slidePrev():i.isEditMode?i.swiper.slideNext(0):i.swiper.slideNext()},setZoom:function(e,t){null==e?this.enabledEvents||(heyzine.viewer.swiper.attachEvents(),this.enabledEvents=!0):"string"==typeof e&&("zoomIn"==e?this.enabledEvents&&(heyzine.viewer.swiper.detachEvents(),this.enabledEvents=!1):"zoomOut"==e&&(this.enabledEvents||(heyzine.viewer.swiper.attachEvents(),this.enabledEvents=!0)))},destroy:()=>{$("#magazineViewport").html(""),$("#magazineViewport").css("padding","0")},resizeViewport:function(){var e=hzflip.viewers.swiper;const t=scaler.getObjectFitSize(!0,$("#canvas").width(),$("#canvas").height(),this.config.width,this.config.height);$("#magazineViewport").attr("style","width:"+t.width+"px !important; height: "+Math.trunc(t.height)+"px !important;"),null!=e.swiper&&e.swiper.update&&e.swiper.update()},getCurrentPage:()=>{var e=hzflip.viewers.swiper;return e.slides[e.swiper.realIndex]+1},getVisiblePages:function(){var e=hzflip.viewers.swiper;const t=e.slides[e.swiper.realIndex]+1,i=[];return i.push(t),i},getVisiblePagesElements:function(){const e=this.getVisiblePages(),t=[];for(let i=0;i<e.length;i++)t.push($('#magazineViewport [page="'+e[i]+'"]'));return t},isLastPage:e=>{var t=hzflip.viewers.swiper;return null==e?t.slides[t.swiper.realIndex]+1==t.config.num_pages:e==t.config.num_pages},setEditMode:function(e){this.isEditMode=e,this.isEditMode?heyzine.viewer.swiper.params.speed=0:heyzine.viewer.swiper.params.speed=300}},"undefined"==typeof hzp&&(hzp={}),hzp={val:!1,hash:function(e,t){return crypto.subtle.digest(e,new TextEncoder("utf-8").encode(t)).then(e=>Array.prototype.map.call(new Uint8Array(e),e=>("00"+e.toString(16)).slice(-2)).join(""))},validate:function(e,t,i,s,n){return new Promise((o,a)=>{var l=e+"-"+t+"-"+i+"-"+s;this.hash("SHA-256",l).then(e=>{o(n==e.substr(0,41))})})},check:function(e,t,i,s,n){this.validate(e,t,i,s,n).then(e=>{if(e)hzp.val=!0;else{console.log("sc");document.location.href="/"}})}},"undefined"==typeof hzflip&&(hzflip={}),hzflip.stats={iframes:{isOver:!1,el:null},sessionTracks:[],track:function(e,t,i,s){if("undefined"==typeof plausible)return void(null!=s&&s());let n=null;null!=s&&(n=setTimeout(()=>{s()},1e3));let o=e+t+i,a=Math.round((new Date).getTime()/1e3);if(this.sessionTracks[o]&&a-this.sessionTracks[o]<30)return null!=s&&s(),void(null!=n&&clearTimeout(n));this.sessionTracks[o]=a,plausible(heyzine.config.name,{props:{type:e,target:t,page:i,token:heyzine.config.readerToken},callback:()=>{null!=s&&s(),null!=n&&clearTimeout(n)}})},trackLayer:function(e,t,i){let s=null;null!=t.action.target?s=t.action.target:null!=t.media&&null!=t.media.url&&(s=t.media.url),this.track(e,s,t.page,i)},trackControls:function(e){this.track(e,null,null,null)},trackIframes:function(e){let t=this;$(".layer-action-render iframe").off("mouseenter").on("mouseenter",(function(){t.iframes.isOver=!0,t.iframes.el=$(this)})),$(".layer-action-render iframe").off("mouseleave").on("mouseleave",(function(){t.iframes.isOver=!1})),$(window).off("blur").on("blur",()=>{if(this.iframes.isOver&&this.iframes.el){let t=this.iframes.el.closest(".layer-action-render").attr("id");if(null!=t){t=t.replace("layer","");for(let i=0;i<e.length;i++)e[i].id==t&&this.trackLayer(e[i].type,e[i])}}})},trackMedia:function(e,t,i){for(let i=0;i<t.length;i++)null!=t[i]&&"backAudio"!=t[i].compType&&($(t[i]).off("play").on("play",()=>{this.trackLayer(e[i].type,e[i])}),$(t[i]).off("player:play").on("player:play",()=>{this.trackLayer(e[i].type,e[i])}));for(let t=0;t<i.length;t++)e[t]&&"video"==e[t].type&&e[t].media&&"youtube"!=e[t].media.type&&$(i[t]).find("video").off("play").on("play",()=>{this.trackLayer(e[t].type,e[t])})}},heyzineDesign={data:{},afterLoad:function(e){null!=e.arrows&&($(".next-button").css("background-image",""),$(".previous-button").css("background-image",""),$(".next-button").css("display",""),$(".previous-button").css("display",""),$(".next-button").removeClass("corner-right"),$(".previous-button").removeClass("corner-left"),$(".next-button").removeClass("next-show"),$(".previous-button").removeClass("previous-show"),1==e.arrows?($(".next-button").addClass("corner-right"),$(".previous-button").addClass("corner-left"),$(".next-button").addClass("next-show"),$(".previous-button").addClass("previous-show"),(document.location.href.indexOf("#page/1")>0||document.location.href.indexOf("#page")<0)&&$(".previous-button").css("display","none"),null!=e.controls_iconset?($(".next-button").css("background-image","url('flipbook/img/"+e.controls_iconset+".png')"),$(".previous-button").css("background-image","url('flipbook/img/"+e.controls_iconset+".png')")):($(".next-button").css("background-image","url('flipbook/img/iconset2_3.png')"),$(".previous-button").css("background-image","url('flipbook/img/iconset2_3.png')"))):0==e.arrows||(2==e.arrows?($(".next-button").addClass("next-show"),$(".previous-button").addClass("previous-show"),(document.location.href.indexOf("#page/1")>0||document.location.href.indexOf("#page")<0)&&$(".previous-button").css("display","none")):($(".next-button").css("display","none"),$(".previous-button").css("display","none")))),null==e.show_slider||0!=$.trim(e.show_slider)&&!1!==e.show_slider?$(".control-bottom .page-bar").show():$(".control-bottom .page-bar").hide(),null!=e.controls_iconset?($(".hz-icon").css("background-image","url('flipbook/img/"+e.controls_iconset+".png')"),$(".hz-icon-2").css("background-image","url('flipbook/img/"+e.controls_iconset.replace("_3","_4")+".png')")):($(".hz-icon").css("background-image","url('flipbook/img/iconset2_3.png')"),$(".hz-icon-2").css("background-image","url('flipbook/img/iconset2_4.png')")),null!=e.show_depth&&("0"==e.show_depth&&"flip"==e.type?$("#magazineViewport").addClass("no-depth-flip"):$("#magazineViewport").removeClass("no-depth-flip"))},load:function(e){if(heyzineDesign.data=e,$(".logo-backs2").hide(),$(".down-pdf").show(),$(".flipbook-title").hide(),$(".flipbook-title p").html(""),$(".flipbook-title h2").html(""),$(".flipbook-title h1").html(""),null!=e.background&&""!=$.trim(e.background)&&("none"==e.background?$(".logo-backs").css("background-image","none"):$(".logo-backs").css("background-image","url('"+e.background+"')")),null!=e.background_color&&""!=$.trim(e.background_color)&&$(".logo-backs").parent().css("background-color",e.background_color),null!=e.background_style&&""!=$.trim(e.background_style)){const t=e.background_style;null!=t.size&&$(".logo-backs").css("background-size",t.size),null!=t.size&&$(".logo-backs").css("background-position",t.position),null!=t.transparency&&$(".logo-backs").css("opacity",1-t.transparency/100),null!=t.blur&&$(".logo-backs").css("filter","blur("+t.blur+"px)")}null==e.show_zoom||0!=$.trim(e.show_zoom)&&!1!==e.show_zoom?$("#pnlControls .zoom-icon").show():$("#pnlControls .zoom-icon").hide(),null==e.show_prevnext||1!=$.trim(e.show_prevnext)&&!0!==e.show_prevnext?($("#btnNavPrev").hide(),$("#btnNavNext").hide()):($("#btnNavPrev").show(),$("#btnNavNext").show()),null==e.show_start||1!=$.trim(e.show_start)&&!0!==e.show_start?$("#btnNavStart").hide():$("#btnNavStart").show(),null==e.show_end||1!=$.trim(e.show_end)&&!0!==e.show_end?$("#btnNavEnd").hide():$("#btnNavEnd").show(),null==e.sound_flip||1!=$.trim(e.sound_flip)&&!0!==e.sound_flip?$("#btnSoundOff").hide():$("#btnSoundOff").show(),null!=e.company_logo&&""!=$.trim(e.company_logo)?($(".logo-backs2").attr("src",e.company_logo),$(".logo-backs2").show()):($(".logo-backs2").attr("src",""),$(".logo-backs2").hide()),$(".logo-backs2").length>0&&$(".logo-backs2").parent().is("a")&&$(".logo-backs2").unwrap(),null!=e.company_logo&&""!=$.trim(e.company_logo)&&null!=e.company_logo_link&&""!=$.trim(e.company_logo_link)&&($(".logo-backs2").wrap('<a rel="nofollow,noindex">'),$(".logo-backs2").parent().attr("href",e.company_logo_link),$(".logo-backs2").css("z-index",1)),null!=e.show_text&&1==e.show_text&&null!=e.title&&""!=$.trim(e.title)&&($(".flipbook-title h1").html(sanitizer.sanitize(e.title.replace(/(?:\r\n|\r|\n)/g,"<br>"))),$(".flipbook-title").show()),null!=e.show_text&&1==e.show_text&&null!=e.subtitle&&""!=$.trim(e.subtitle)&&($(".flipbook-title h2").html(sanitizer.sanitize(e.subtitle.replace(/(?:\r\n|\r|\n)/g,"<br>"))),$(".flipbook-title").show()),null!=e.show_text&&1==e.show_text&&null!=e.description&&""!=$.trim(e.description)&&($(".flipbook-title p").html(sanitizer.sanitize(e.description.replace(/(?:\r\n|\r|\n)/g,"<br>"))),$(".flipbook-title").show()),null!=e.show_shadow&&("0"==e.show_shadow?$("#magazineViewport").addClass("no-shadow"):$("#magazineViewport").removeClass("no-shadow")),null!=e.show_depth&&("0"==e.show_depth?$("#magazineViewport").addClass("no-depth"):$("#magazineViewport").removeClass("no-depth")),null==e.show_download||0!=$.trim(e.show_download)&&!1!==e.show_download?$(".down-pdf").show():$(".down-pdf").hide(),null==e.show_print||0==$.trim(e.show_print)||!1===e.show_print||$.isTouch?$("#btnPrint").hide():$("#btnPrint").show(),null==e.show_fullscreen||0==$.trim(e.show_fullscreen)||!1===e.show_fullscreen?$("#btnFullscreen").hide():$("#btnFullscreen").show(),null!=e.controls_iconset?($(".hz-icon").css("background-image","url('flipbook/img/"+e.controls_iconset+".png')"),$(".hz-icon-2").css("background-image","url('flipbook/img/"+e.controls_iconset.replace("_3","_4")+".png')")):($(".hz-icon").css("background-image","url('flipbook/img/iconset2_3.png')"),$(".hz-icon-2").css("background-image","url('flipbook/img/iconset2_4.png')")),null!=e.controls_style&&($("#pnlControls").attr("style",e.controls_style),"10px"==$("#pnlControls").css("top")||"30px"==$("#pnlControls").css("top")?$("#pnlZoomStep").css({top:"100px",bottom:"auto"}):$("#pnlZoomStep").css({top:"auto",bottom:"100px"}),"50px"==$("#pnlControls").css("left")?$("#pnlZoomStep").css({left:"50px",right:"auto"}):$("#pnlZoomStep").css({left:"auto",right:"50px"})),$("#pnlControls").show(),$("#pnlControls > *").is(":visible")?$("#pnlControls").show():$("#pnlControls").hide(),(document.location.href.indexOf("?ctl=0")>0||document.location.href.indexOf("&ctl=0")>0)&&$("#pnlControls").hide(),heyzineDesign.afterLoad(e)}},resetHeyzine=null,heyzine={config:null,design:heyzineDesign,controls:hzflip.controls,layers:hzflip.layers,helpers:hzflip.helpers,stats:hzflip.stats,viewer:null,largeWidth:2214,url:null,thumbnailPath:THUMBNAIL_PATH,thumbnail:new Image,tocPath:TOC_PATH,toc:new Image,timerRes:!1,progressState:{started:!1,progress:0,numIndicators:0,ended:0},destroy:()=>{heyzine=$.extend(!0,{},resetHeyzine)},reload:function(e){try{sessionStorage.clear()}catch(e){console.log("sessionStorage not available")}return new Promise((t,i)=>{null!=e&&!0!==e&&(heyzine.config.design.show_slider=e.design.show_slider),heyzine.render(),null!=e&&(1==e?(heyzine.controls.initViewerControls(heyzine.config),heyzine.layers.init(heyzine.config)):(heyzine.controls.initViewerControls(e),heyzine.layers.init(e))),t()})},setViewer:(e,t)=>{heyzine.viewer.destroy(),heyzine.design.data.type=t,heyzine.config.type=t,heyzine.config.viewer=e,heyzine.viewer="SWIPER"==e?hzflip.viewers.swiper:hzflip.viewers.magazine},load:(e,t)=>{try{sessionStorage.clear()}catch(e){console.log("sessionStorage not available")}if(heyzine.thumbnail.src=heyzine.thumbnailPath+t.thumbnail,heyzine.thumbnail.classList.add("loader-preview"),heyzine.thumbnail.alt="flipbook cover",null!=t.design.embed_mode&&1==t.design.embed_mode||(heyzine.toc.onerror=()=>{heyzine.toc=null},heyzine.toc.src=heyzine.tocPath+t.thumbnail.replace("-thumb.jpg","")+"-toc.jpg"),heyzine.url=e,heyzine.config=t,document.location.href.indexOf("?dp=1")>0||document.location.href.indexOf("&dp=1")>0?heyzine.design.data.show_double=1:(document.location.href.indexOf("?dp=2")>0||document.location.href.indexOf("&dp=2")>0)&&(heyzine.design.data.show_double=2),""!=$.trim(heyzine.design.data.load_page))try{const e=-1==heyzine.design.data.load_page?localStorage.getItem("lastpage-"+heyzine.config.name):heyzine.design.data.load_page;null!=e&&(window.location.hash="page/"+e)}catch(e){console.log("sessionStorage not available")}return new Promise((i,s)=>{null==resetHeyzine&&(resetHeyzine=$.extend(!0,{},heyzine)),"IMG"==heyzine.config.mode?$.extend(!0,heyzine,hzimg):"PREV"==heyzine.config.mode?$.extend(!0,heyzine,hzprev):$.extend(!0,heyzine,hzpdf),"SWIPER"==heyzine.config.viewer?heyzine.viewer=hzflip.viewers.swiper:heyzine.viewer=hzflip.viewers.magazine,heyzine.load(e,t).then(()=>{heyzine.layers.init(t),heyzine.render(),heyzine.controls.init(t),heyzine.refreshSession(),$(window).resize((function(){heyzine.resizeViewport(),heyzine.adjustResolution()})).bind("orientationchange",(function(){let e=heyzine.viewer.getCurrentPage();heyzine.resizeViewport(),heyzine.reload(!0),heyzine.design.afterLoad(heyzine.config.design),null!=e&&heyzine.viewer.goToPage(e)})),heyzine.resizeViewport(),i("")})})},refreshSession:function(){heyzine.url.indexOf("/private/"+heyzine.config.name)>0&&setInterval(()=>{$.getJSON("/private/session/"+heyzine.config.name,(function(e){heyzine.pdf._transport._fullReader._stream.source.url=e.url,heyzine.url=e.url,$(".down-pdf").attr("href",e.download)}))},3e5)},adjustResolution:function(e){null==e&&(e=500),this.timerRes=!0,setTimeout(()=>{const e=heyzine.getVisiblePages();for(let t=0;t<e.length;t++){const i=e[t];let s=$("[page="+e[t]+"] .page-cont");heyzine.loadPageView(i,s,"normal").then(()=>{this.timerRes=!1}).catch(()=>{})}},e)},setEditMode:function(e){heyzine.viewer.setEditMode(e),heyzine.controls.setEditMode(e),heyzine.layers.setEditMode(e)},setPageDisplay:function(e){heyzine.layers.setPageDisplay(e)},resizeViewport:function(){$.isTouch&&($("#canvas").prop("style").marginTop="1px",$("body").css("height",window.innerHeight+"px"),$(".logo-backs").css("height",window.innerHeight+"px"),setTimeout(()=>{$("#canvas").prop("style").marginTop="0"},500)),heyzine.controls.resizeViewport(),heyzine.viewer.resizeViewport()},render:()=>{heyzine.viewer.render(heyzine.config,heyzine.design)},getCurrentPage:function(){return heyzine.viewer.getCurrentPage()},getVisiblePages:function(){return heyzine.viewer.getVisiblePages()},getVisiblePagesElements:function(){return heyzine.viewer.getVisiblePagesElements()},getZoomScale:function(){return heyzine.controls.getZoomScale()},isLastPage:function(e){return heyzine.viewer.isLastPage(e)},showLoader:(e,t,i)=>{},turned:function(e,t){"end"!=t&&(heyzine.controls.turned(e),heyzine.layers.turned(e)),heyzine.adjustResolution(0);try{localStorage.setItem("lastpage-"+heyzine.config.name,e)}catch(e){console.log("sessionStorage not available")}},turning:e=>{heyzine.controls.turning(e),heyzine.layers.turning(e)},loadPageView:(e,t,i)=>{heyzine.loadPageView(e,t,i)},loadPageLayers:(e,t,i)=>{heyzine.layers.loadPageLayers(e,t,i)},loadPageThumbnails:(e,t,i)=>{heyzine.loadPageThumbnails(e,t,i)},goToPage:(e,t)=>{heyzine.viewer.goToPage(e,t)},setZoom:(e,t,i)=>{heyzine.controls.setZoom(e,t,i)},setPageCache:function(e,t,i,s){const n="hz_cache_"+Math.trunc(i)+"_p_"+e+"_"+t+"_"+heyzine.url;this.isSessionStorageEnabled()?sessionStorage.setItem(n,s):window.hstorage[n]=s},getPageCache:function(e,t,i){const s="hz_cache_"+Math.trunc(i)+"_p_"+e+"_"+t+"_"+heyzine.url;return this.isSessionStorageEnabled()?sessionStorage.getItem(s):window.hstorage[s]},isSessionStorageEnabled:function(){try{var e="__test__";return sessionStorage.setItem(e,e),sessionStorage.removeItem(e),!0}catch(e){return null==window.hstorage&&(window.hstorage=[]),!1}},progressBar:function(e,t){if("start"==e||this.progressState.started){if("start"==e)$("#loaderLine").show(),this.progressState.started=!0,this.progressState.ended=0,this.progressState.progress=0,this.progressState.numIndicators=t.num;else if("progress"==e)this.progressState.progress+=t.inc/this.progressState.numIndicators;else{if("end"==e)return this.progressState.ended++,void(this.progressState.ended>=this.progressState.numIndicators&&(this.progressState.started=!1,$("#loaderLine").css("width",$(window).width()+"px"),setTimeout(()=>{$("#loaderLine").hide()},200)));"cancel"==e&&(this.progressState.started=!1,$("#loaderLine").hide())}$("#loaderLine").css("width",this.progressState.progress*$(window).width()/100+"px")}},setZoomViewer:(e,t)=>heyzine.viewer.setZoom(e,t),coverPagesClass:(e,t)=>{const i=heyzine.config;var s=$(e).closest(".page");t-i.design.cover==1?s.addClass("page-first"):t-i.design.cover==i.num_pages&&s.addClass("page-last")}};